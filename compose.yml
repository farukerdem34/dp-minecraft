# Generated by setupmc.com on 2025-06-08T15:59:09.429Z

services:
  flat:
    image: itzg/minecraft-server
    tty: true
    stdin_open: true
    env_file:
      - .flat.env
    volumes:
      - "flat-data:/data"
      - "./downloads:/downloads"
      - "./downloads:/mods"
    networks:
      - mc-network
  flat-backups:
    image: itzg/mc-backup
    depends_on:
      flat:
        condition: service_healthy
    environment:
      BACKUP_INTERVAL: "24h"
      RCON_HOST: mc
      INITIAL_DELAY: 0
    volumes:
      - "flat-data:/data:ro"
      - "flat-backups:/backups"
  router:
    image: itzg/mc-router
    depends_on:
      - flat
    environment:
      MAPPING: |
        flat.mc-test.internal=flat:25565
    ports:
      - "25565:25565"
    networks:
      - mc-network

volumes:
  flat-data:
  flat-backups:

networks:
  mc-network:
